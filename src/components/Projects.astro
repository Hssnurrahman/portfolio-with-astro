---
import { projects } from "../data/Projects";
import Card from "./Card.astro";

export interface ProjectProps {
  name: string;
  description: string;
  href: string;
  tags: string[];
}
---

<section
  id="projects"
  class="py-24 relative overflow-hidden"
  aria-label="projects"
>
  <!-- Enhanced Background with animations -->
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-gradient-to-br from-gray-50 via-white to-purple-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-purple-950/30 animated-gradient"></div>
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(217,70,239,0.08),transparent_50%),radial-gradient(circle_at_80%_80%,rgba(56,189,248,0.08),transparent_50%)] animated-radial"></div>
    
    <!-- Geometric shapes -->
    <div class="geometric-shapes">
      <div class="geo-shape geo-circle"></div>
      <div class="geo-shape geo-triangle"></div>
      <div class="geo-shape geo-square"></div>
      <div class="geo-shape geo-hexagon"></div>
    </div>
  </div>

  <div class="relative z-10 max-w-8xl mx-auto px-8">
    <!-- Section Header -->
    <div class="projects-header text-center mb-20">
      <div class="badge inline-flex items-center px-4 py-2 rounded-full bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border border-white/20 dark:border-gray-700/30 mb-6 shadow-lg">
        <svg class="w-5 h-5 text-primary-600 mr-3 bounce-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
        </svg>
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Featured Work</span>
      </div>
      
      <h2 class="projects-title text-5xl lg:text-7xl font-black mb-6">
        <span class="gradient-text bg-gradient-to-r from-primary-600 via-secondary-600 to-accent-600 bg-clip-text text-transparent">
          Selected
        </span>
        <span class="block text-gray-900 dark:text-white font-light slide-in-text">Projects</span>
      </h2>
      
      <p class="projects-description text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
        A showcase of my latest work and creative solutions that drive real business impact
      </p>
    </div>
    
    <!-- Animated Projects Grid -->
    <div class="projects-grid grid md:grid-cols-2 xl:grid-cols-3 gap-8 mb-16">
      {
        projects.map(({ name, description, href, tags }: ProjectProps, index) => {
          return (
            <div class={`project-card project-card-${index + 1}`}>
              <Card name={name} description={description} href={href} tags={tags} />
            </div>
          );
        })
      }
    </div>

    <!-- Enhanced Call to Action -->
    <div class="cta-section text-center">
      <div class="cta-card bg-gradient-to-r from-primary-600/10 via-secondary-600/10 to-accent-600/10 backdrop-blur-xl rounded-3xl p-12 border border-white/20 dark:border-gray-700/30 shadow-lg hover:shadow-2xl transition-all duration-500 hover:scale-[1.02] relative overflow-hidden">
        <!-- Animated background elements -->
        <div class="absolute inset-0 opacity-30">
          <div class="floating-element absolute top-4 right-4 w-16 h-16 bg-primary-200 dark:bg-primary-800 rounded-full blur-xl"></div>
          <div class="floating-element absolute bottom-4 left-4 w-12 h-12 bg-secondary-200 dark:bg-secondary-800 rounded-full blur-lg" style="animation-delay: -2s;"></div>
        </div>
        
        <div class="relative z-10">
          <h3 class="cta-title text-3xl font-bold text-gray-900 dark:text-white mb-4">
            Interested in working together?
          </h3>
          <p class="cta-description text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto">
            I'm always excited to take on new challenges and collaborate on innovative projects.
          </p>
          <div class="cta-buttons flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#contact" class="cta-primary group px-8 py-4 bg-gradient-to-r from-primary-600 via-secondary-600 to-accent-600 text-white rounded-2xl font-semibold hover:shadow-2xl hover:shadow-primary-500/25 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 relative overflow-hidden">
              <div class="absolute inset-0 bg-gradient-to-r from-primary-700 via-secondary-700 to-accent-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              <span class="relative z-10 flex items-center justify-center gap-2">
                Start a Project
                <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </span>
            </a>
            <a href="https://github.com" target="_blank" class="cta-secondary group px-8 py-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl border border-white/20 dark:border-gray-700/30 text-gray-700 dark:text-gray-300 rounded-2xl font-semibold hover:bg-white dark:hover:bg-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-1">
              <span class="flex items-center justify-center gap-2">
                View All Projects
                <svg class="w-5 h-5 group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Enhanced Styles and Animations -->
<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes bounceIcon {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @keyframes geometricFloat {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    33% {
      transform: translateY(-15px) rotate(120deg);
    }
    66% {
      transform: translateY(5px) rotate(240deg);
    }
  }

  @keyframes animatedGradient {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @keyframes animatedRadial {
    0%, 100% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.1); }
  }

  @keyframes floating {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  /* Background Animations */
  .animated-gradient {
    background-size: 400% 400%;
    animation: animatedGradient 18s ease infinite;
  }

  .animated-radial {
    animation: animatedRadial 25s linear infinite;
  }

  /* Geometric Shapes */
  .geometric-shapes {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .geo-shape {
    position: absolute;
    background: linear-gradient(45deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
    animation: geometricFloat 10s ease-in-out infinite;
  }

  .geo-circle {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    top: 15%;
    right: 20%;
    animation-delay: 0s;
  }

  .geo-triangle {
    width: 0;
    height: 0;
    border-left: 25px solid transparent;
    border-right: 25px solid transparent;
    border-bottom: 43px solid rgba(217, 70, 239, 0.1);
    background: none;
    top: 70%;
    left: 10%;
    animation-delay: -3s;
  }

  .geo-square {
    width: 40px;
    height: 40px;
    top: 40%;
    right: 10%;
    transform: rotate(45deg);
    animation-delay: -6s;
  }

  .geo-hexagon {
    width: 50px;
    height: 50px;
    background: linear-gradient(45deg, rgba(56, 189, 248, 0.1), rgba(249, 115, 22, 0.1));
    clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
    top: 25%;
    left: 15%;
    animation-delay: -9s;
  }

  /* Header Animations */
  .projects-header {
    animation: fadeInUp 0.8s ease-out;
  }

  .badge {
    animation: fadeInUp 0.6s ease-out 0.2s both;
  }

  .bounce-icon {
    animation: bounceIcon 2s ease-in-out infinite;
  }

  .projects-title {
    animation: fadeInUp 0.8s ease-out 0.4s both;
  }

  .gradient-text {
    background: linear-gradient(-45deg, #6366f1, #8b5cf6, #ec4899, #f59e0b);
    background-size: 400% 400%;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 3s ease infinite;
  }

  .slide-in-text {
    animation: slideInLeft 0.6s ease-out 0.6s both;
  }

  .projects-description {
    animation: fadeInUp 0.6s ease-out 0.8s both;
  }

  /* Projects Grid Animations */
  .projects-grid {
    animation: fadeInUp 0.8s ease-out 1s both;
  }

  .project-card {
    animation: fadeInUp 0.6s ease-out both;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .project-card:hover {
    transform: translateY(-8px);
  }

  .project-card-1 { animation-delay: 1.2s; }
  .project-card-2 { animation-delay: 1.3s; }
  .project-card-3 { animation-delay: 1.4s; }
  .project-card-4 { animation-delay: 1.5s; }
  .project-card-5 { animation-delay: 1.6s; }
  .project-card-6 { animation-delay: 1.7s; }

  /* CTA Animations */
  .cta-section {
    animation: fadeInUp 0.8s ease-out 1.8s both;
  }

  .cta-title {
    animation: fadeInUp 0.6s ease-out 2s both;
  }

  .cta-description {
    animation: fadeInUp 0.6s ease-out 2.1s both;
  }

  .cta-buttons {
    animation: fadeInUp 0.6s ease-out 2.2s both;
  }

  .floating-element {
    animation: floating 6s ease-in-out infinite;
  }

  /* Hover Effects */
  .cta-primary:hover {
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.4);
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .geo-shape,
    .floating-element {
      display: none;
    }
  }
</style>
